Grundfos Alpha3
===============

.. seo::
    :description: Instructions for monitoring a Grundfos Alpha3 Model B circulator pump.
    :image: alpha3.jpg

The ``alpha3`` component allows you to monitor a Grundfos Alpha3 Model B circulator pump over BLE.

This component supports the following metrics:

- flow rate
- head pressure
- power consumption
- speed (RPM)

This component uses the BLE peripheral on an ESP32, so you also need to enable
this component. Please see the :doc:`/components/ble_client` docs for how to discover the MAC
address of your Alpha3 pump, or you can find the list of paired MAC addresses in
the list of paried Bluetooth devices on your smartphone after using the GO Remote app.

Configuration entry
-------------------

.. code-block:: yaml

    # Example Configuration
    esp32_ble_tracker:
    
    ble_client:
      - mac_address: xx:xx:xx:xx:xx:xx
        id: radiator_pump
    
    sensor:
      - platform: alpha3
        ble_client_id: radiator_pump
        flow:
          name: "Radiator Pump Flow"
        head:
          name: "Radiator Pump Head"
        speed:
          name: "Radiator Pump Speed"
        power:
          name: "Radiator Pump Power"
        voltage:
          name: "Radiator Pump Voltage"
        current:
          name: "Radiator Pump Current"
    

Configuration variables:
************************

- **id** (*Optional*, :ref:`config-id`): Manually specify the ID used for code generation.
- **flow** (*Optional*): The estimated volume flow of the medium in ``mÂ³/h``.
  All options from :ref:`Sensor <config-sensor>`.
- **head** (*Optional*): The estimated head (preasure difference generated by the pump) in ``m``.
  All options from :ref:`Sensor <config-sensor>`.
- **speed** (*Optional*): the speed of the pump rotor in ``RPM``.
  All options from :ref:`Sensor <config-sensor>`.
- **power** (*Optional*): The power consumption of the pump in ``W``.
  All options from :ref:`Sensor <config-sensor>`.
- **voltage** (*Optional*): Voltage in ``V``.
  All options from :ref:`Sensor <config-sensor>`.
- **current** (*Optional*): Current in ``A``.
  All options from :ref:`Sensor <config-sensor>`





Notes:
-------------

.. warning::

    Older pumps like the Alpha2 and Alpha3 Model A are not compatible, as they don't have Bluetooth integrated.
    The Alpha Reader is using a different protocol, so it won't work to connect your Alpha2 with this component. 

.. note::

    The ESP needs to be paired with the pump to read the sensors. If the devices are not paried the wireless indicator on the pump will turn on and off again.
    
    For the initial pairing you have to press the 'Connectivity button' (Wireless symbol) on the pump.
    After the initial pairing the ESP should connect automatically when the pump turns on. When the ESP is conected the blue wireless indicator should be constantly lit.

.. note::

    The pump can only be connected to one device at a time. If you want to use the GO Remote App, you have to first turn the ESP off.

See Also
--------

- :doc:`/components/ble_client`
- :apiref:`alpha3/alpha3.h`
- :ghedit:`Edit`
